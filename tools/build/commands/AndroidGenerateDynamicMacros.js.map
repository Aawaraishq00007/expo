{"version":3,"file":"AndroidGenerateDynamicMacros.js","sourceRoot":"","sources":["../../src/commands/AndroidGenerateDynamicMacros.ts"],"names":[],"mappings":";;;;;AACA,gDAAwB;AAExB,mFAAqF;AACrF,4CAA2C;AAE3C,MAAM,QAAQ,GAAG,uBAAW,CAAC,wBAAwB,EAAE,CAAC;AACxD,MAAM,WAAW,GAAG,uBAAW,CAAC,aAAa,EAAE,CAAC;AAChD,MAAM,aAAa,GAAG,cAAI,CAAC,IAAI,CAAC,WAAW,EAAE,oDAAoD,CAAC,CAAC;AACnG,MAAM,kBAAkB,GAAG,cAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,gBAAgB,CAAC,CAAC;AAEjE,KAAK,UAAU,cAAc,CAAC,OAAO;IACnC,MAAM,kBAAkB,GACtB,OAAO,CAAC,kBAAkB,IAAI,cAAI,CAAC,IAAI,CAAC,aAAa,EAAE,6BAA6B,CAAC,CAAC;IACxF,MAAM,aAAa,GAAG,OAAO,CAAC,aAAa,IAAI,OAAO,CAAC,GAAG,CAAC,aAAa,IAAI,SAAS,CAAC;IAEtF,MAAM,kDAA0B,CAAC;QAC/B,kBAAkB;QAClB,QAAQ,EAAE,SAAS;QACnB,WAAW,EAAE,QAAQ;QACrB,iBAAiB,EAAE,kBAAkB;QACrC,aAAa;KACd,CAAC,CAAC;AACL,CAAC;AAED,kBAAe,CAAC,OAAgB,EAAE,EAAE;IAClC,OAAO;SACJ,OAAO,CAAC,iCAAiC,CAAC;SAC1C,MAAM,CACL,+BAA+B,EAC/B,6EAA6E,CAC9E;SACA,MAAM,CACL,0BAA0B,EAC1B,0EAA0E,CAC3E;SACA,WAAW,CAAC,8CAA8C,CAAC;SAC3D,WAAW,CAAC,cAAc,CAAC,CAAC;AACjC,CAAC,CAAC","sourcesContent":["import { Command } from '@expo/commander';\nimport path from 'path';\n\nimport { generateDynamicMacrosAsync } from '../dynamic-macros/generateDynamicMacros';\nimport { Directories } from '../expotools';\n\nconst EXPO_DIR = Directories.getExpoRepositoryRootDir();\nconst ANDROID_DIR = Directories.getAndroidDir();\nconst GENERATED_DIR = path.join(ANDROID_DIR, 'expoview/src/main/java/host/exp/exponent/generated');\nconst TEMPLATE_FILES_DIR = path.join(EXPO_DIR, 'template-files');\n\nasync function generateAction(options): Promise<void> {\n  const buildConstantsPath =\n    options.buildConstantsPath || path.join(GENERATED_DIR, 'ExponentBuildConstants.java');\n  const configuration = options.configuration || process.env.CONFIGURATION || 'release';\n\n  await generateDynamicMacrosAsync({\n    buildConstantsPath,\n    platform: 'android',\n    expoKitPath: EXPO_DIR,\n    templateFilesPath: TEMPLATE_FILES_DIR,\n    configuration,\n  });\n}\n\nexport default (program: Command) => {\n  program\n    .command('android-generate-dynamic-macros')\n    .option(\n      '--buildConstantsPath [string]',\n      'Path to ExponentBuildConstants.java relative to `android` folder. Optional.'\n    )\n    .option(\n      '--configuration [string]',\n      'Build configuration. Defaults to `process.env.CONFIGURATION` or \"debug\".'\n    )\n    .description('Generates dynamic macros for Android client.')\n    .asyncAction(generateAction);\n};\n"]}