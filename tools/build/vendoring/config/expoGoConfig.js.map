{"version":3,"file":"expoGoConfig.js","sourceRoot":"","sources":["../../../src/vendoring/config/expoGoConfig.ts"],"names":[],"mappings":"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","sourcesContent":["import { Podspec } from '../../CocoaPods';\nimport { VendoringTargetConfig } from '../types';\n\nconst config: VendoringTargetConfig = {\n  name: 'Expo Go',\n  platforms: {\n    ios: {\n      targetDirectory: 'ios/vendored/unversioned',\n    },\n    android: {\n      targetDirectory: 'android/vendored/unversioned',\n    },\n  },\n  modules: {\n    'lottie-react-native': {\n      source: 'https://github.com/lottie-react-native/lottie-react-native.git',\n      ios: {},\n      // android: {\n      //   includeFiles: 'src/android/**',\n      //   excludeFiles: ['src/android/gradle.properties', 'src/android/gradle-maven-push.gradle'],\n      // },\n    },\n    'react-native-gesture-handler': {\n      source: 'https://github.com/software-mansion/react-native-gesture-handler.git',\n      semverPrefix: '~',\n      ios: {},\n    },\n    'react-native-reanimated': {\n      source: 'https://github.com/software-mansion/react-native-reanimated.git',\n      semverPrefix: '~',\n      ios: {\n        // TODO: The podspec checks RN version to choose between Folly and RCT-Folly dependency,\n        // however we don't have RN's package.json in the place where it looks for and the fallback\n        // is set to `0.64.0` that we don't support yet.\n        // You can remove these mutations once we update RN to 0.64 or higher.\n        mutatePodspec(podspec: Podspec) {\n          // Depend on Folly instead of RCT-Folly\n          delete podspec.dependencies['RCT-Folly'];\n          podspec.dependencies.Folly = [];\n\n          // Overwrite search paths for Folly\n          [podspec.pod_target_xcconfig, podspec.xcconfig].forEach((xcconfig) => {\n            xcconfig.HEADER_SEARCH_PATHS = xcconfig.HEADER_SEARCH_PATHS.replace(\n              '/RCT-Folly',\n              '/Folly'\n            );\n          });\n\n          // Fix compiler flags\n          podspec.compiler_flags = podspec.compiler_flags.replace('RNVERSION=64', 'RNVERSION=63');\n          podspec.xcconfig.OTHER_CFLAGS = podspec.xcconfig.OTHER_CFLAGS.replace(\n            'RNVERSION=64',\n            'RNVERSION=63'\n          );\n        },\n      },\n    },\n    'react-native-screens': {\n      source: 'https://github.com/software-mansion/react-native-screens.git',\n      semverPrefix: '~',\n      ios: {},\n    },\n    'react-native-appearance': {\n      source: 'https://github.com/expo/react-native-appearance.git',\n      semverPrefix: '~',\n    },\n    'amazon-cognito-identity-js': {\n      source: 'https://github.com/aws-amplify/amplify-js.git',\n    },\n    'react-native-view-shot': {\n      source: 'https://github.com/gre/react-native-view-shot.git',\n    },\n    'react-native-svg': {\n      source: 'https://github.com/react-native-svg/react-native-svg',\n    },\n    'react-native-maps': {\n      source: 'https://github.com/react-native-maps/react-native-maps',\n    },\n    '@react-native-community/netinfo': {\n      source: 'https://github.com/react-native-netinfo/react-native-netinfo',\n      ios: {},\n    },\n    'react-native-webview': {\n      source: 'https://github.com/react-native-webview/react-native-webview.git',\n      ios: {\n        transforms: {\n          // react-native-webview exposes `useSharedProcessPool` property which has to be handled differently in Expo Go.\n          // After upgrading this library, please ensure that proper patch is in place.\n          // See commit https://github.com/expo/expo/commit/3aeb66e33dc391399ea1c90fd166425130d17a12\n          content: [\n            {\n              paths: 'RNCWKProcessPoolManager.h',\n              find: '- (WKProcessPool *)sharedProcessPool;',\n              replaceWith:\n                '- (WKProcessPool *)sharedProcessPoolForExperienceId:(NSString *)experienceId;',\n            },\n            {\n              paths: 'RNCWKProcessPoolManager.m',\n              find: 'WKProcessPool *_sharedProcessPool;',\n              replaceWith:\n                'WKProcessPool *_sharedProcessPool;\\n    NSMutableDictionary<NSString *, WKProcessPool *> *_pools;',\n            },\n            {\n              paths: 'RNCWKProcessPoolManager.m',\n              find: '@implementation RNCWKProcessPoolManager',\n              replaceWith: `@implementation RNCWKProcessPoolManager\n\n- (instancetype)init\n{\n  if (self = [super init]) {\n    _pools = [NSMutableDictionary new];\n  }\n  return self;\n}\n\n- (WKProcessPool *)sharedProcessPoolForExperienceId:(NSString *)experienceId\n{\n  if (!experienceId) {\n    return [self sharedProcessPool];\n  }\n  if (!_pools[experienceId]) {\n    _pools[experienceId] = [[WKProcessPool alloc] init];\n  }\n  return _pools[experienceId];\n}\n`,\n            },\n            {\n              paths: 'RNCWebView.h',\n              find: /@interface RNCWebView : RCTView/,\n              replaceWith: '$&\\n@property (nonatomic, strong) NSString *experienceId;',\n            },\n            {\n              paths: 'RNCWebView.m',\n              find: /(\\[\\[RNCWKProcessPoolManager sharedManager\\] sharedProcessPool)]/,\n              replaceWith: '$1ForExperienceId:self.experienceId]',\n            },\n            {\n              paths: 'RNCWebViewManager.m',\n              find: /@implementation RNCWebViewManager\\s*{/,\n              replaceWith: '$&\\n  NSString *_experienceId;',\n            },\n            {\n              paths: 'RNCWebViewManager.m',\n              find: '*webView = [RNCWebView new];',\n              replaceWith: '*webView = [RNCWebView new];\\n  webView.experienceId = _experienceId;',\n            },\n            {\n              paths: 'RNCWebViewManager.m',\n              find: /RCT_EXPORT_MODULE\\(\\)/,\n              replaceWith: `- (instancetype)initWithExperienceId:(NSString *)experienceId\n               kernelServiceDelegate:(id)kernelServiceInstance\n                              params:(NSDictionary *)params\n{\n  if (self = [super init]) {\n    _experienceId = experienceId;\n  }\n  return self;\n}`,\n            },\n          ],\n        },\n      },\n    },\n    'react-native-safe-area-context': {\n      source: 'https://github.com/th3rdwave/react-native-safe-area-context',\n    },\n    '@react-native-community/datetimepicker': {\n      source: 'https://github.com/react-native-community/react-native-datetimepicker.git',\n    },\n    // NOTE(brentvatne): masked-view has been renamed to\n    // @react-native-masked-view/masked-view but we should synchronize moving\n    // over to the new package name along with React Navigation\n    '@react-native-community/masked-view': {\n      source: 'https://github.com/react-native-masked-view/masked-view',\n    },\n    '@react-native-community/viewpager': {\n      source: 'https://github.com/callstack/react-native-viewpager',\n      ios: {},\n    },\n    'react-native-shared-element': {\n      source: 'https://github.com/IjzerenHein/react-native-shared-element',\n    },\n    '@react-native-segmented-control/segmented-control': {\n      source: 'https://github.com/react-native-segmented-control/segmented-control',\n      ios: {},\n    },\n    '@react-native-picker/picker': {\n      source: 'https://github.com/react-native-picker/picker',\n      ios: {},\n    },\n    '@react-native-community/slider': {\n      source: 'https://github.com/callstack/react-native-slider',\n    },\n  },\n};\n\nexport default config;\n"]}