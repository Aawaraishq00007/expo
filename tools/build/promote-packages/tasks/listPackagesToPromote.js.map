{"version":3,"file":"listPackagesToPromote.js","sourceRoot":"","sources":["../../../src/promote-packages/tasks/listPackagesToPromote.ts"],"names":[],"mappings":";;;;;;AAAA,kDAA0B;AAE1B,0DAAkC;AAClC,mDAAyC;AACzC,wCAAoD;AAEpD,mEAAgE;AAChE,qDAAkD;AAElD,MAAM,EAAE,MAAM,EAAE,GAAG,eAAK,CAAC;AAEzB;;GAEG;AACU,QAAA,qBAAqB,GAAG,IAAI,kBAAI,CAC3C;IACE,IAAI,EAAE,uBAAuB;IAC7B,SAAS,EAAE,CAAC,+BAAc,EAAE,6CAAqB,CAAC;CACnD,EACD,KAAK,EAAE,OAAiB,EAAE,OAAuB,EAA0B,EAAE;IAC3E,IAAI,OAAO,CAAC,MAAM,KAAK,CAAC,EAAE;QACxB,gBAAM,CAAC,OAAO,CAAC,+BAA+B,CAAC,CAAC;QAChD,OAAO,kBAAI,CAAC,IAAI,CAAC;KAClB;IAED,gBAAM,CAAC,IAAI,CAAC,+BAA+B,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IACxE,gCAAsB,CAAC,OAAO,CAAC,CAAC;AAClC,CAAC,CACF,CAAC","sourcesContent":["import chalk from 'chalk';\n\nimport logger from '../../Logger';\nimport { Task } from '../../TasksRunner';\nimport { printPackagesToPromote } from '../helpers';\nimport { CommandOptions, Parcel, TaskArgs } from '../types';\nimport { findPackagesToPromote } from './findPackagesToPromote';\nimport { prepareParcels } from './prepareParcels';\n\nconst { yellow } = chalk;\n\n/**\n * Lists packages that can be promoted to given tag.\n */\nexport const listPackagesToPromote = new Task<TaskArgs>(\n  {\n    name: 'listPackagesToPromote',\n    dependsOn: [prepareParcels, findPackagesToPromote],\n  },\n  async (parcels: Parcel[], options: CommandOptions): Promise<void | symbol> => {\n    if (parcels.length === 0) {\n      logger.success(`\\nâœ… No packages to promote.\\n`);\n      return Task.STOP;\n    }\n\n    logger.info(`\\nðŸ“š Packages to promote to ${yellow.bold(options.tag)}:`);\n    printPackagesToPromote(parcels);\n  }\n);\n"]}