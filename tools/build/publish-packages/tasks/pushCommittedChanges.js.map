{"version":3,"file":"pushCommittedChanges.js","sourceRoot":"","sources":["../../../src/publish-packages/tasks/pushCommittedChanges.ts"],"names":[],"mappings":";;;;;;AAAA,oDAA4B;AAC5B,0DAAkC;AAClC,mDAAyC;AAEzC,+DAA4D;AAE5D;;GAEG;AACU,QAAA,oBAAoB,GAAG,IAAI,kBAAI,CAC1C;IACE,IAAI,EAAE,sBAAsB;IAC5B,SAAS,EAAE,CAAC,yCAAmB,CAAC;CACjC,EACD,KAAK,EAAE,OAAiB,EAAE,OAAuB,EAAE,EAAE;IACnD,gBAAM,CAAC,IAAI,CAAC,0DAA0D,CAAC,CAAC;IAExE,IAAI,OAAO,CAAC,GAAG,EAAE;QACf,gBAAM,CAAC,KAAK,CAAC,kCAAkC,CAAC,CAAC;QACjD,OAAO;KACR;IACD,MAAM,aAAa,GAAG,MAAM,aAAG,CAAC,yBAAyB,EAAE,CAAC;IAC5D,MAAM,aAAG,CAAC,SAAS,CAAC,EAAE,KAAK,EAAE,aAAa,EAAE,CAAC,CAAC;AAChD,CAAC,CACF,CAAC","sourcesContent":["import Git from '../../Git';\nimport logger from '../../Logger';\nimport { Task } from '../../TasksRunner';\nimport { CommandOptions, Parcel, TaskArgs } from '../types';\nimport { commitStagedChanges } from './commitStagedChanges';\n\n/**\n * Pushes committed changes to remote repo.\n */\nexport const pushCommittedChanges = new Task<TaskArgs>(\n  {\n    name: 'pushCommittedChanges',\n    dependsOn: [commitStagedChanges],\n  },\n  async (parcels: Parcel[], options: CommandOptions) => {\n    logger.info('\\nüèãÔ∏è  Pushing committed changes to remote repository...');\n\n    if (options.dry) {\n      logger.debug('   Skipping due to --dry flag...');\n      return;\n    }\n    const currentBranch = await Git.getCurrentBranchNameAsync();\n    await Git.pushAsync({ track: currentBranch });\n  }\n);\n"]}