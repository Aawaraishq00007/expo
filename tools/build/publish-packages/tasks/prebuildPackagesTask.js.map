{"version":3,"file":"prebuildPackagesTask.js","sourceRoot":"","sources":["../../../src/publish-packages/tasks/prebuildPackagesTask.ts"],"names":[],"mappings":";;;;;;AAAA,kDAA0B;AAE1B,0DAAkC;AAClC,mDAAyC;AAGzC,2DAAsF;AAEtF;;GAEG;AACU,QAAA,oBAAoB,GAAG,IAAI,kBAAI,CAC1C;IACE,IAAI,EAAE,sBAAsB;IAC5B,QAAQ,EAAE,IAAI;IACd,UAAU,EAAE,KAAK;CAClB,EACD,KAAK,EAAE,OAAiB,EAAE,EAAE;IAC1B,KAAK,MAAM,EAAE,GAAG,EAAE,IAAI,OAAO,EAAE;QAC7B,IAAI,CAAC,+BAAkB,CAAC,GAAG,CAAC,EAAE;YAC5B,SAAS;SACV;QACD,gBAAM,CAAC,IAAI,CAAC,wBAAwB,EAAE,eAAK,CAAC,KAAK,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,CAAC;QACpE,MAAM,iCAAoB,CAAC,GAAG,CAAC,CAAC;KACjC;AACH,CAAC,CACF,CAAC","sourcesContent":["import chalk from 'chalk';\n\nimport logger from '../../Logger';\nimport { Task } from '../../TasksRunner';\nimport { Parcel, TaskArgs } from '../types';\n\nimport { canPrebuildPackage, prebuildPackageAsync } from '../../prebuilds/Prebuilder';\n\n/**\n * Prebuilds iOS packages that are being distributed with prebuilt binaries.\n */\nexport const prebuildPackagesTask = new Task<TaskArgs>(\n  {\n    name: 'prebuildPackagesTask',\n    required: true,\n    backupable: false,\n  },\n  async (parcels: Parcel[]) => {\n    for (const { pkg } of parcels) {\n      if (!canPrebuildPackage(pkg)) {\n        continue;\n      }\n      logger.info('\\nüë∑‚Äç‚ôÄÔ∏è Prebuilding %s', chalk.green(pkg.packageName));\n      await prebuildPackageAsync(pkg);\n    }\n  }\n);\n"]}